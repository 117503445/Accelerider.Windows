<Border x:Class="Accelerider.Windows.Resources.Controls.SearchBar"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Height="30" Margin="20 0" CornerRadius="3">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <TextBox x:Name="SearchBox" Grid.Column="0" Margin="5 0 0 0" 
                 Text="{Binding Path=SearchText, RelativeSource={RelativeSource FindAncestor, AncestorType=Border, AncestorLevel=1}}"
                 materialDesign:HintAssist.Hint="Search"
                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden" 
                 BorderThickness="0"
                 MinWidth="200" VerticalAlignment="Center" />
        <Button Grid.Column="1" Style="{DynamicResource MaterialDesignToolButton}" 
                Command="{Binding Path=SearchCommand, RelativeSource={RelativeSource FindAncestor, AncestorType=Border, AncestorLevel=1}}" 
                CommandParameter="{Binding ElementName=SearchBox, Path=Text}"
                Height="24" Width="24">
            <materialDesign:PackIcon Kind="Magnify" Opacity=".56" />
        </Button>
    </Grid>
</Border>
